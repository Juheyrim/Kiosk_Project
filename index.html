<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë§¥ë„ë‚ ë“œ í‚¤ì˜¤ìŠ¤í¬ í†µí•©ë²„ì „</title>
  <style>
    :root {
      --base-font-size: 24px;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: #fff8dc;
      text-align: center;
      padding: 20px;
      font-size: var(--base-font-size);
    }
    h1 {
      background-color: #ffcc00;
      padding: 20px;
      margin-bottom: 30px;
    }
    .hidden { display: none; }
    .menu, .confirm, .payment, .receipt, .popup, .start {
      display: none;
    }
    .item {
      background-color: #fff;
      border: 3px solid #e60000;
      padding: 20px;
      border-radius: 10px;
      width: 250px;
      margin: 10px auto;
      cursor: pointer;
    }
    button {
      padding: 10px 20px;
      font-size: 22px;
      margin: 10px;
      border-radius: 8px;
      border: none;
      background-color: #e60000;
      color: white;
      cursor: pointer;
    }
    .delete-btn { background-color: #999; }
    .pay-btn { background-color: green; }
    .reset-btn { background-color: #444; }
    .popup {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }
    .popup-content {
      background: white;
      padding: 20px;
      border-radius: 15px;
      width: 400px;
      max-height: 90vh; 
      overflow-y: auto;   
      text-align: left;
    }
    .popup-content img {
      width: 100%;
      max-height: 200px;        /* ìµœëŒ€ ë†’ì´ ì œí•œ */
      object-fit: cover;
      border-radius: 10px;
    }
    .desc { font-size: 18px; margin: 10px 0; }
  </style>
</head>
<body>
  <h1>ğŸ” ë§¥ë„ë‚ ë“œ í‚¤ì˜¤ìŠ¤í¬</h1>

  <div class="start" id="start">
    <h2>ë¨¹ê³  ê°€ì‹œê² ì–´ìš”? í¬ì¥í•˜ì‹œê² ì–´ìš”?</h2>
    <button onclick="selectType('ë§¤ì¥')">ğŸ½ ë¨¹ê³ ê°€ê¸°</button>
    <button onclick="selectType('í¬ì¥')">ğŸ¥¡ í¬ì¥í•˜ê¸°</button>
  </div>

  <div class="menu" id="menu">
    <h2 id="typeLabel"></h2>
    <div class="item" onclick="openPopup(0)">ë¶ˆê³ ê¸°ë²„ê±°</div>
    <div class="item" onclick="openPopup(1)">ì¹˜ì¦ˆë²„ê±°</div>
    <div class="item" onclick="openPopup(2)">ê°ìíŠ€ê¹€</div>
    <div class="item" onclick="openPopup(3)">ì½œë¼</div>
    <button class="pay-btn" onclick="goToConfirm()">ì£¼ë¬¸ í™•ì¸</button>
  </div>

  <div class="popup" id="popup">
    <div class="popup-content">
      <h2 id="popup-title"></h2>
      <img id="popup-img" src="" />
      <p class="desc" id="popup-desc"></p>
      <p id="popup-price"></p>
      <label>ì‚¬ì´ì¦ˆ:
        <select id="popup-size" onchange="updatePrice()">
          <option value="ë¯¸ë””ì—„">ë¯¸ë””ì—„</option>
          <option value="ë¼ì§€">ë¼ì§€ (+500ì›)</option>
        </select>
      </label><br><br>
      <label>ìˆ˜ëŸ‰:
        <input type="number" id="popup-qty" value="1" min="1" onchange="updatePrice()" />
      </label><br><br>
      <p><strong>ì´ ê°€ê²©: <span id="popup-total"></span> ì›</strong></p>
      <button onclick="addToCart()">ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
      <button onclick="closePopup()">ë‹«ê¸°</button>
    </div>
  </div>

  <div class="confirm" id="confirm">
    <h2>ğŸ§¾ ì£¼ë¬¸ í™•ì¸</h2>
    <div id="confirm-items"></div>
    <p><strong>ì´í•©: <span id="confirm-total">0</span> ì›</strong></p>
    <button onclick="startPayment()">ê²°ì œí•˜ê¸°</button>
    <button onclick="goToMenu()">â† ë©”ë‰´ë¡œ</button>
  </div>

  <div class="payment" id="payment">
    <h2>ê²°ì œ ìˆ˜ë‹¨ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h2>
    <p>â³ ë‚¨ì€ ì‹œê°„: <span id="timer">30</span>ì´ˆ</p>
    <button onclick="pay('ì¹´ë“œ')">ğŸ’³ ì¹´ë“œ ê²°ì œ</button>
    <button onclick="pay('í˜„ê¸ˆ')">ğŸ’µ í˜„ê¸ˆ ê²°ì œ</button>
  </div>

  <div class="receipt" id="receipt">
    <h2>âœ… ê²°ì œ ì™„ë£Œ</h2>
    <div id="receipt-items"></div>
    <p><strong>ì´í•©: <span id="receipt-total">0</span> ì›</strong></p>
    <p><strong>ê²°ì œìˆ˜ë‹¨: <span id="receipt-method"></span></strong></p>
    <p><strong>ì´ìš©ë°©ë²•: <span id="receipt-type"></span></strong></p>
    <button class="reset-btn" onclick="resetAll()">ğŸ” ì²˜ìŒìœ¼ë¡œ</button>
  </div>

  <script>
    const menuData = [
      {
        name: 'ë¶ˆê³ ê¸°ë²„ê±°',
        price: 3500,
        img: 'meatBurger.JPG',
        desc: 'ë¶ˆí–¥ ê°€ë“í•œ íŒ¨í‹°ì™€ ë§ˆìš”ì˜ ì¡°í™”'
      },
      {
        name: 'ì¹˜ì¦ˆë²„ê±°',
        price: 4000,
        img: 'cheeseBurger.jpg',
        desc: 'ì¹˜ì¦ˆì™€ íŒ¨í‹°ì˜ ê³ ì†Œí•œ í´ë˜ì‹'
      },
      {
        name: 'ê°ìíŠ€ê¹€',
        price: 2000,
        img: 'potato.JPG',
        desc: 'ë°”ì‚­í•œ ì‹œê·¸ë‹ˆì²˜ ê°íŠ€'
      },
      {
        name: 'ì½œë¼',
        price: 1500,
        img: 'cola.JPG',
        desc: 'í†¡ ì˜ëŠ” ì²­ëŸ‰í•œ ë§›'
      }
    ];
    let cart = [];
    let selectedType = '';
    let currentItem = {};
    let countdown;

    document.getElementById("start").style.display = "block";

    function selectType(type) {
      selectedType = type;
      document.getElementById("start").style.display = "none";
      document.getElementById("menu").style.display = "block";
      document.getElementById("typeLabel").innerText = "ì´ìš© ë°©ë²•: " + type;
    }

    function openPopup(index) {
      currentItem = menuData[index];
      document.getElementById("popup-title").innerText = currentItem.name;
      document.getElementById("popup-img").src = currentItem.img;
      document.getElementById("popup-desc").innerText = currentItem.desc;
      document.getElementById("popup-price").innerText = `ê¸°ë³¸ ê°€ê²©: ${currentItem.price}ì›`;
      document.getElementById("popup-size").value = 'ë¯¸ë””ì—„';
      document.getElementById("popup-qty").value = 1;
      updatePrice();
      document.getElementById("popup").style.display = "flex";
    }

    function closePopup() {
      document.getElementById("popup").style.display = "none";
    }

    function updatePrice() {
      const size = document.getElementById("popup-size").value;
      const qty = parseInt(document.getElementById("popup-qty").value);
      let price = currentItem.price;
      if (size === 'ë¼ì§€') price += 500;
      document.getElementById("popup-total").innerText = price * qty;
    }

    function addToCart() {
      const size = document.getElementById("popup-size").value;
      const qty = parseInt(document.getElementById("popup-qty").value);
      let price = currentItem.price;
      if (size === 'ë¼ì§€') price += 500;
      cart.push({ name: currentItem.name, size, qty, total: price * qty });
      closePopup();
    }

    function goToConfirm() {
      if (cart.length === 0) return alert("ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆì–´ìš”!");
      document.getElementById("menu").style.display = "none";
      document.getElementById("confirm").style.display = "block";
      const confirmItems = document.getElementById("confirm-items");
      confirmItems.innerHTML = '';
      let total = 0;
      cart.forEach(item => {
        confirmItems.innerHTML += `<p>${item.name} (${item.size}) x ${item.qty} = ${item.total}ì›</p>`;
        total += item.total;
      });
      document.getElementById("confirm-total").innerText = total;
    }

    function goToMenu() {
      document.getElementById("confirm").style.display = "none";
      document.getElementById("menu").style.display = "block";
    }

    function startPayment() {
      document.getElementById("confirm").style.display = "none";
      document.getElementById("payment").style.display = "block";
      let time = 30;
      document.getElementById("timer").innerText = time;
      countdown = setInterval(() => {
        time--;
        document.getElementById("timer").innerText = time;
        if (time <= 0) {
          clearInterval(countdown);
          alert("â° ì‹œê°„ì´ ì´ˆê³¼ë˜ì–´ ì£¼ë¬¸ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.");
          resetAll();
        }
      }, 1000);
    }

    function pay(method) {
      clearInterval(countdown);
      document.getElementById("payment").style.display = "none";
      document.getElementById("receipt").style.display = "block";
      const receiptItems = document.getElementById("receipt-items");
      receiptItems.innerHTML = '';
      let total = 0;
      cart.forEach(item => {
        receiptItems.innerHTML += `<p>${item.name} (${item.size}) x ${item.qty} = ${item.total}ì›</p>`;
        total += item.total;
      });
      document.getElementById("receipt-total").innerText = total;
      document.getElementById("receipt-method").innerText = method;
      document.getElementById("receipt-type").innerText = selectedType;
    }

    function resetAll() {
      cart = [];
      selectedType = '';
      clearInterval(countdown);
      document.querySelectorAll(".start, .menu, .confirm, .payment, .receipt").forEach(e => e.style.display = "none");
      document.getElementById("start").style.display = "block";
    }
  </script>
</body>
</html>
